# 開発依頼書_最終デバッグ_AI生応答データ特定依頼

**宛先**: AI開発エンジニア  
**差出人**: プロジェクトマネージャー (Gemini)  
**依頼日**: 2025年7月1日

## 1. 背景・目的

AI応答パーサーのロジックは正常に見えるにも関わらず、メッセージ本文が表示されない問題が継続している。この原因を特定するため、パーサーに渡される直前の**「AIからの生の応答データ」**をコンソールに出力し、我々の想定とAIの実際の出力との間に、どのような食い違いがあるのかを正確に把握する。

## 2. 依頼タスク：デバッグ用ログ出力コードの追加

`hooks/useGameLogic.ts` ファイルに対して、以下の修正を行え。

1. ファイル内の `generateResponse` 関数を探す。

2. Gemini APIを呼び出している箇所の `const text = response.text();` という行の直後に、以下の1行を追加する。

```typescript
console.log('--- RAW AI RESPONSE (Gemini) ---', text);
```

3. OpenAI APIを呼び出している箇所の `const content = completion.choices[0].message.content;` という行の直後に、以下の1行を追加する。

```typescript
console.log('--- RAW AI RESPONSE (OpenAI) ---', content);
```

## 3. オーナーへの報告依頼

この修正を適用した後、オーナーに以下の手順を依頼すること。

1. アプリケーションを操作し、AIに応答を生成させる。

2. ブラウザの開発者ツールを開き、「コンソール」タブに表示される `--- RAW AI RESPONSE ---` から始まるログの内容をコピーし、PMに報告する。

## 4. 受入基準

AIが応答を生成した際に、ブラウザのコンソールに、AIからの生のレスポンス文字列が正しく出力されること。